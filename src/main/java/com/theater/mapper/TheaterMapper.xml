<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.theater.mapper.TheaterMapper">

<select id="theaterList" resultType="com.theater.domain.TheatersVO"> <!-- 기본극장 리스트 -->
  SELECT * FROM THEATERS where t_area= #{t_area}
</select>
<select id="theaterinfo" resultType="com.theater.domain.TheatersVO"> <!-- 기본극장 정보 -->
  SELECT * FROM THEATERS where t_name= #{t_name}
</select>
<select id="totaltheaterList" resultType="com.theater.domain.TheatersVO"> <!-- 기본극장 리스트 -->
  SELECT * FROM THEATERS
</select>

<!-- 영화 insert -->
  <insert id="theaterInsertPro">
  <selectKey keyProperty="t_cd" order="BEFORE" resultType="int">
        select t_cd_seq.nextval from dual
      </selectKey>
    insert into theaters (t_cd, t_area, t_name, t_address, t_screen, t_seat) values (#{t_cd}, #{t_area}, #{t_name}, #{t_address}, #{t_screen},#{t_seat})
  </insert>
<!-- 영화 insert2 -->
  <insert id="theaterInsertPro2">
  <selectKey keyProperty="screen_cd" order="BEFORE" resultType="int">
        select screen_cd_seq.nextval from dual
      </selectKey>
    insert into screens (screen_cd, t_cd, screen_type, screen_name, seat_amount) values (#{screen_cd}, #{t_cd}, #{screen_type}, #{screen_name}, #{seat_amount})
  </insert>  
  
</mapper>
