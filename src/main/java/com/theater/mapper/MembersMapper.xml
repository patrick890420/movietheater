<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.theater.mapper.MembersMapper">

<!-- 회원가입 -->
<insert id="MemberInsert">
	insert into members (userid,userpw,username,birth,gender,phone,email) values (#{userid}, #{userpw}, #{userName}, #{birth}, #{gender}, #{phone}, #{email})
  insert all
    into members (userid,userpw,username,birth,gender,phone,email) 
    values (#{userid}, #{userpw}, #{username}, #{birth}, #{gender}, #{phone}, #{email})
    into member_auth (userid,auth) values (#{userid},'ROLE_USER')
  select*from dual
</insert>


<select id="idChk" resultType="int">
	SELECT COUNT(*) FROM MEMBERS
	WHERE userid = #{userid}
</select>

<!-- <select id="myres">
select 
where ?=? 
인것인가
</select> -->





</mapper>